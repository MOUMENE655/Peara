<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>موقع تعلم البرمجة - بسيط</title>
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--muted:#94a3b8;--accent:#06b6d4}
    *{box-sizing:border-box;font-family:Inter, "Segoe UI", Tahoma, Arial, sans-serif}
    body{margin:0;background:linear-gradient(180deg,#071032 0%, #071025 100%);color:#e6eef8}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 28px;background:rgba(255,255,255,0.02);backdrop-filter:blur(6px)}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#7c3aed);display:flex;align-items:center;justify-content:center;font-weight:700}
    nav a{color:var(--muted);text-decoration:none;margin:0 10px}
    main{display:grid;grid-template-columns:360px 1fr;gap:20px;padding:22px}
    aside{background:var(--card);padding:18px;border-radius:12px;height:calc(100vh - 116px);overflow:auto}
    .search{display:flex;gap:8px;margin-bottom:12px}
    .search input{flex:1;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    .lesson{padding:10px;border-radius:8px;margin-bottom:8px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);cursor:pointer}
    .lesson:hover{transform:translateY(-2px);transition:0.12s}
    section.content{padding:18px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent)}
    .hero{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
    .hero h1{margin:0;font-size:20px}
    .controls{display:flex;gap:8px}
    button{background:var(--accent);border:0;padding:8px 12px;border-radius:8px;color:#06202a;cursor:pointer}
    .editor{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    textarea{width:100%;height:300px;background:#021124;border-radius:8px;border:1px solid rgba(255,255,255,0.03);color:#dff6ff;padding:12px;font-family:monospace;font-size:13px;resize:vertical}
    iframe#preview{width:100%;height:300px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:white}
    footer{padding:12px 22px;color:var(--muted);font-size:13px}
    @media(max-width:900px){main{grid-template-columns:1fr;padding:12px}aside{height:auto}}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">PR</div>
      <div>
        <div style="font-weight:700">منصة البرمجة البسيطة</div>
        <div style="font-size:12px;color:var(--muted)">تعلم. جرب. طبّق.</div>
      </div>
    </div>
    <nav>
      <a href="#">الرئيسية</a>
      <a href="#tutorials">الدروس</a>
      <a href="#projects">مشاريع</a>
      <a href="#contact">اتصل بنا</a>
    </nav>
  </header>
  <main>
    <aside>
      <div class="search">
        <input id="filter" placeholder="ابحث عن درس أو موضوع...">
        <button onclick="clearFilter()">مسح</button>
      </div>
      <div id="lessonsList">
        <!-- تلقائي -->
      </div>
      <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:12px 0">
      <div style="font-size:13px;color:var(--muted);line-height:1.6">
        نصائح سريعة:
        <ul>
          <li>ابدأ بلغة واحدة. Python خيار جيد.</li>
          <li>اطبّق مشاريع صغيرة كل يوم.</li>
          <li>استعمل التحكم في الإصدارات Git.</li>
        </ul>
      </div>
    </aside>
    <section class="content">
      <div class="hero">
        <div>
          <h1 id="title">مرحباً بك في منصة البرمجة</h1>
          <div id="subtitle" style="color:var(--muted);font-size:13px">اختر درساً من الشريط الجانبي لبدء التعلم أو جرب محرر الكود المدمج.</div>
        </div>
        <div class="controls">
          <button onclick="loadTemplate('html')">قالب HTML</button>
          <button onclick="loadTemplate('js')">قالب JavaScript</button>
          <button onclick="runCode()">تشغيل</button>
        </div>
      </div>

      <div class="editor">
        <div>
          <label style="font-size:13px;color:var(--muted)">محرر الكود</label>
          <textarea id="code">&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;&lt;meta charset="utf-8"&gt;&lt;title&gt;Example&lt;/title&gt;&lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;مرحبا من محرر المنصة&lt;/h1&gt;
    &lt;script&gt;console.log('hello from iframe')&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</textarea>
        </div>
        <div>
          <label style="font-size:13px;color:var(--muted)">معاينة / كونسول</label>
          <iframe id="preview" sandbox="allow-scripts allow-same-origin"></iframe>
        </div>
      </div>

      <div style="margin-top:12px">
        <h3 style="margin:6px 0">ملاحظات تعليمية</h3>
        <p style="color:var(--muted);font-size:14px">يمكنك حفظ الأكواد محلياً بنسخ النص. هذا الموقع يعمل بدون خادم. مناسب للتجارب السريعة وتعلم أساسيات الويب.</p>
      </div>
    </section>
  </main>
  <footer>
    مُعد بواسطة منصة بسيطة • تعليم مجاني • حقوق بسيطة
  </footer>

  <script>
    const lessons = [
      {id:1,title:'مقدمة في HTML',desc:'هيكل صفحة الويب، الوسوم الأساسية.'},
      {id:2,title:'مقدمة في CSS',desc:'تنسيق النصوص والألوان والتخطيط.'},
      {id:3,title:'مقدمة في JavaScript',desc:'الأساسيات، المتغيرات، الدوال.'},
      {id:4,title:'DOM و التفاعل',desc:'التعامل مع عناصر الصفحة.'},
      {id:5,title:'مشروع: صفحة تواصل',desc:'بناء نموذج اتصل بنا بسيط.'}
    ];

    const lessonsList = document.getElementById('lessonsList');
    const filter = document.getElementById('filter');
    const titleEl = document.getElementById('title');
    const subtitleEl = document.getElementById('subtitle');

    function renderLessons(list){
      lessonsList.innerHTML = '';
      list.forEach(l=>{
        const div = document.createElement('div');
        div.className = 'lesson';
        div.innerHTML = `<strong>${l.title}</strong><div style=\"color:var(--muted);font-size:13px\">${l.desc}</div>`;
        div.onclick = ()=>selectLesson(l);
        lessonsList.appendChild(div);
      })
    }

    function selectLesson(l){
      titleEl.textContent = l.title;
      subtitleEl.textContent = l.desc;
      if(l.id===1) loadTemplate('html');
      if(l.id===2) loadTemplate('css');
      if(l.id===3) loadTemplate('js');
      if(l.id===4) loadTemplate('dom');
      if(l.id===5) loadTemplate('project');
    }

    function clearFilter(){ filter.value=''; renderLessons(lessons); }
    filter.addEventListener('input',()=>{
      const q = filter.value.trim().toLowerCase();
      if(!q) return renderLessons(lessons);
      renderLessons(lessons.filter(l=> (l.title + ' ' + l.desc).toLowerCase().includes(q)));
    });

    function loadTemplate(kind){
      const editor = document.getElementById('code');
      if(kind==='html') editor.value = `<!doctype html>\n<html>\n  <head><meta charset=\"utf-8\"><title>مثال</title></head>\n  <body>\n    <h1>مثال HTML</h1>\n    <p>جرب تعديل النص ثم اضغط تشغيل.</p>\n  </body>\n</html>`;
      if(kind==='css') editor.value = `<!doctype html>\n<html>\n  <head><meta charset=\"utf-8\"><title>CSS</title><style>body{font-family:Arial;background:#f4f4f4;color:#111}h1{color:#0077aa}</style></head>\n  <body>\n    <h1>مثال CSS</h1>\n    <p>عدل الأنماط داخل الوسم style.</p>\n  </body>\n</html>`;
      if(kind==='js') editor.value = `<!doctype html>\n<html>\n  <head><meta charset=\"utf-8\"><title>JS</title></head>\n  <body>\n    <h1>مثال JavaScript</h1>\n    <button id=\"btn\">اضغطني</button>\n    <script>document.getElementById('btn').onclick=()=>{alert('تم الضغط');console.log('زر ضغط');}</script>\n  </body>\n</html>`;
      if(kind==='dom') editor.value = `<!doctype html>\n<html>\n  <head><meta charset=\"utf-8\"><title>DOM</title></head>\n  <body>\n    <h1 id=\"h\">العنوان</h1>\n    <input id=\"inp\" placeholder=\"اكتب نصاً\">\n    <button onclick=\"document.getElementById('h').textContent=document.getElementById('inp').value\">تغيير</button>\n  </body>\n</html>`;
      if(kind==='project') editor.value = `<!doctype html>\n<html>\n  <head><meta charset=\"utf-8\"><title>اتصل بنا</title></head>\n  <body>\n    <h1>نموذج اتصل بنا</h1>\n    <form onsubmit=\"event.preventDefault();alert('تم الإرسال (محلياً)')\">\n      <input placeholder=\"اسمك\" required>\n      <br><br>
      <input type=\"email\" placeholder=\"بريدك\" required>
      <br><br>
      <textarea placeholder=\"رسالتك\"></textarea>
      <br><br>
      <button>إرسال</button>
    </form>
  </body>\n</html>`;
    }

    function runCode(){
      const code = document.getElementById('code').value;
      const iframe = document.getElementById('preview');
      const doc = iframe.contentWindow.document;
      doc.open();doc.write(code);doc.close();
    }

    // تهيئة واجهة
    renderLessons(lessons);
    // تحميل افتراضي
    loadTemplate('html');
    runCode();
  </script>
</body>
</html>
